# Changelog

All notable changes to this project will be documented in this file
automatically by Versionist. DO NOT EDIT THIS FILE MANUALLY!
This project adheres to [Semantic Versioning](http://semver.org/).

# v3.4.4
## (2023-10-18)

* Remove actions hooks and powershell release tag prefix [Kyle Harding]

# v3.4.3
## (2023-10-17)

* Update dependency actions/runner to v2.310.2 [Self-hosted Renovate Bot]

# v3.4.2
## (2023-10-17)

* Update golang Docker tag to v1.21.3 [Self-hosted Renovate Bot]

# v3.4.1
## (2023-10-17)

* Update dependency balena-io/balena-cli to v17.1.5 [Self-hosted Renovate Bot]

# v3.4.0
## (2023-10-16)

* Disable publish of separate images per architecture [Kyle Harding]
* Remove support for arm32v7 builds [Kyle Harding]

# v3.3.4
## (2023-10-13)

* Update dependency node to v18.18.2 [Self-hosted Renovate Bot]

# v3.3.3
## (2023-09-07)

* Update dependency actions/runner to v2.309.0 [Self-hosted Renovate Bot]

# v3.3.2
## (2023-09-05)

* Update dependency balena-io/balena-cli to v17.1.1 [Self-hosted Renovate Bot]

# v3.3.1
## (2023-08-30)

* Run e2e tests from a sidecar service [Kyle Harding]

# v3.3.0
## (2023-08-30)

* Add runner as a supervised service [Kyle Harding]

# v3.2.6
## (2023-08-30)

* Update dependency balena-io/balena-cli to v17 [Self-hosted Renovate Bot]

# v3.2.5
## (2023-08-29)

* Fallback to GitHub PAT for enterprise runner registration [Kyle Harding]

# v3.2.4
## (2023-08-29)

* Install github token npm package at build time [Kyle Harding]

# v3.2.3
## (2023-08-29)

* Install podman, buildah, and skopeo from ubuntu 21 repos [Kyle Harding]

# v3.2.2
## (2023-08-29)

* Update dependency balena-io/balena-cli to v16.8.0 [Self-hosted Renovate Bot]

# v3.2.1
## (2023-08-29)

* Remove the hardcoded v prefix in balena-cli releases [Kyle Harding]

# v3.2.0
## (2023-08-28)

* Generate a github app installation key for runner registration [Kyle Harding]
* Expose a new env var for runner API authentication [Kyle Harding]

# v3.1.7
## (2023-08-25)

* Set container hostname before starting runner process [Kyle Harding]

# v3.1.6
## (2023-08-23)

* Update dependency node to v18.17.1 [Self-hosted Renovate Bot]

# v3.1.5
## (2023-08-23)

* Install specific npm version controlled via Renovate [Kyle Harding]

# v3.1.4
## (2023-08-22)

* Update dependency balena-io/balena-cli to v16.7.9 [Self-hosted Renovate Bot]

# v3.1.3
## (2023-08-22)

* Update dependency balena-io/balena-cli to v16.7.8 [Self-hosted Renovate Bot]

# v3.1.2
## (2023-08-21)

* Update dependency balena-io/balena-cli to v16.7.7 [Self-hosted Renovate Bot]

# v3.1.1
## (2023-08-14)

* Update dependency actions/runner to v2.308.0 [Self-hosted Renovate Bot]

# v3.1.0
## (2023-08-11)

* Move mount script to a oneshot service [Kyle Harding]

# v3.0.3
## (2023-08-10)

* Unmount any existing tmpfs binds that may exist on startup [Kyle Harding]

# v3.0.2
## (2023-08-10)

* Update dependency balena-io/balena-cli to v16.7.6 [Self-hosted Renovate Bot]

# v3.0.1
## (2023-08-10)

* Update dependency powershell/powershell to v7.3.6 [Self-hosted Renovate Bot]

# v3.0.0
## (2023-08-10)

* Change runtime user from github to runner [Kyle Harding]

# v2.4.2
## (2023-08-10)

* Allow Renovate to manage packages installed via eget [Kyle Harding]

# v2.4.1
## (2023-08-10)

* Update golang Docker tag to v1.21.0 [Self-hosted Renovate Bot]

# v2.4.0
## (2023-08-10)

* Update actions/runner and runner-container-hooks. [Carlo Miguel F. Cruz]

# v2.3.0
## (2023-08-09)

* Disable automatic runner updates [Kyle Harding]
* Replace the home directory with a tmpfs mount [Kyle Harding]

# v2.2.0
## (2023-08-08)

* Remount tmpfs volumes with execute bit before starting s6 [Kyle Harding]

# v2.1.5
## (2023-08-02)

* Update golang Docker tag to v1.20.7 [Self-hosted Renovate Bot]

# v2.1.4
## (2023-07-11)

* Update golang Docker tag to v1.20.6 [Self-hosted Renovate Bot]

# v2.1.3
## (2023-06-14)

* Use Default as the default runner group if none is provided [Kyle Harding]

# v2.1.2
## (2023-06-06)

* Update golang Docker tag to v1.20.5 [Self-hosted Renovate Bot]

# v2.1.1
## (2023-05-16)

* balena-cli ARM binaries [ab77]

# v2.1.0
## (2023-05-12)

* Automatically remount /run and as executable tmpfs [Kyle Harding]

# v2.0.13
## (2023-05-12)

* Fix tmpfs syntax but keep execute bit [Kyle Harding]

# v2.0.12
## (2023-05-11)

* Install zstd [Harald Fischer]

# v2.0.11
## (2023-05-10)

* Restore balena device uuid custom label [Kyle Harding]

# v2.0.10
## (2023-05-10)

* Fix: revert to using ':' for label format. [Carlo Miguel F. Cruz]

# v2.0.9
## (2023-05-08)

* Remove balena uuid label as runners are not being picked up [Kyle Harding]

# v2.0.8
## (2023-05-04)

* Add balena device uuid to runner tags [Kyle Harding]

# v2.0.7
## (2023-05-02)

* Update golang Docker tag to v1.20.4 [Renovate Bot]

# v2.0.6
## (2023-04-27)

* switch to if/then block [ab77]

# v2.0.5
## (2023-04-27)

* add balena, aws and gh CLIs [ab77]

# v2.0.4
## (2023-04-27)

* Handle whitespaces in labels [Kyle Harding]

# v2.0.3
## (2023-04-26)

* Test that the runner process is using the correct HOME env [Kyle Harding]

# v2.0.2
## (2023-04-25)

* Install unzip [Kyle Harding]

# v2.0.1
## (2023-04-25)

* Use su to switch to github user instead of s6-setuidgid [Kyle Harding]

# v2.0.0
## (2023-04-20)

* Enable iptables by default and only disable for compose tests [Kyle Harding]
* Remove sudo [Kyle Harding]
* Use s6-overlay for init and service management [Kyle Harding]

# v1.3.2
## (2023-04-19)

* Build eget from source [Kyle Harding]

# v1.3.1
## (2023-04-19)

* Wait for runner to register as online during tests [Kyle Harding]

# v1.3.0
## (2023-04-19)

* Update actions/runner and runner-container-hooks [Kyle Harding]

# v1.2.8
## (2023-03-27)

* Publish docker tags for each platform [Kyle Harding]

# v1.2.7
## (2023-03-27)

* Prevent duplicate workflows from breaking branch protection [Kyle Harding]

# v1.2.6
## (2023-03-20)

* Install eget v1.3.3 from binary releases [Kyle Harding]

# v1.2.5
## (2023-03-14)

* Fix home permissions [ab77]

# v1.2.4
## (2023-03-14)

* Update checksums and downgrade to previous [ab77]

# v1.2.3
## (2023-03-14)

* Update runner version [ab77]

# v1.2.2
## (2023-03-10)

* Write dockerd logs directly to stdout of the container [Kyle Harding]

# v1.2.1
## (2023-03-08)

* Update golang Docker tag to v1.20.2 [Renovate Bot]

# v1.2.0
## (2023-03-07)

* Disable docker iptables and enable debug logging [Kyle Harding]
* Install docker via apt repositories [Kyle Harding]
* Override CPU info for ARM variants [Kyle Harding]

# v1.1.3
## (2023-03-01)

* Swap machine and arch labels to align with sources [Kyle Harding]
* Expose build-time TARGETPLATFORM as a runner label [Kyle Harding]

# v1.1.2
## (2023-03-01)

* Set default runner group [ab77]

# v1.1.1
## (2023-02-23)

* Remove redundant assets/versioning [ab77]

## v1.1.0 - 2023-02-22

* Remove runtime step to install node [Kyle Harding]

## v1.0.1 - 2023-02-22

* Fix permissions on all files in user home [Kyle Harding]

## v1.0.0 - 2023-02-22

* Workaround issues running containerd on emulated ARM [Kyle Harding]
* Use docker secrets for github tokens [Kyle Harding]
* Install packages with eget [Kyle Harding]

## v0.0.5 - 2023-02-13

* Parametrise runner options [ab77]

## v0.0.4 - 2023-02-08

* Support multiple instances [ab77]

## v0.0.3 - 2023-02-08

* Correct versioning regex [Anton Belodedenko]

## v0.0.2 - 2023-02-08

* Publish to ghcr.io [ab77]
